onload=function(){setTimeout(function(){TweenMax.to(document.getElementById("intro"),.7,{opacity:0,onComplete:function(){document.getElementById("intro").style.display="none",document.getElementById("video-wrapper").style.display="block",(new TimelineMax).to(document.getElementById("video-wrapper"),1,{opacity:1,ease:Power4.easeIn}).from(R,2,{height:0,ease:Power4.easeOut}).from(z,2,{height:0,ease:Power4.easeOut},"-=2").from(document.querySelector("#overlayTop p"),2,{opacity:0,ease:Power4.easeOut},"-=1.5")}})},2e3);var a,t,n,s=document.querySelector("canvas"),o=s.getContext("2d"),r=document.getElementById("container"),i=document.getElementById("interactive-container"),c=!1,l=document.createElement("video"),e=document.querySelectorAll(".scene"),u=document.querySelectorAll(".plan"),d=document.getElementById("scene1"),m=document.getElementById("scene2"),g=document.querySelector("#scene1 #plan1"),w=document.querySelector("#scene1 #plan2"),v=document.querySelector("#scene2 #plan1"),y=(document.getElementById("svg-falaise"),document.getElementById("Scene1Plan1Fond1")),p=document.getElementById("Scene1Plan1Fond2"),f=document.getElementById("Scene1Plan1Fond1et2"),x=(document.getElementById("Scene1Plan1Fond3"),document.getElementById("Scene1Plan1NuagesArriere1")),h=document.getElementById("Scene1Plan1NuagesArriere2"),E=document.getElementById("Scene1Plan1NuagesArriere3"),T=document.getElementById("Scene1Plan1NuagesAvant1"),P=document.getElementById("Scene1Plan1NuagesAvant2"),I=document.getElementById("Scene1Plan1NuagesAvant3"),L=document.getElementById("Scene1Plan1NuagesAvant4"),M=document.getElementById("Scene1Plan1NuagesAvant5"),A=document.getElementById("Scene1Plan1NuagesAvant6"),S=(document.getElementById("svg-visage"),document.getElementById("Scene1Plan2NuagesArriere"),document.getElementById("Scene1Plan2NuagesArriere1")),B=document.getElementById("Scene1Plan2NuagesArriere2"),b=(document.getElementById("Scene1Plan2NuagesAvant"),document.getElementById("Scene1Plan2NuagesAvant1")),O=document.getElementById("Scene1Plan2NuagesAvant2"),N=document.getElementById("Scene1Plan2NuagesAvant3"),q=0,F=document.querySelector("#Combi"),C=document.querySelector("#Carrosserie"),X=document.getElementById("roueArriere"),k=document.getElementById("roueAvant"),Y=document.getElementById("mouse"),H=document.getElementById("playButton"),R=document.getElementById("overlayTop"),z=document.getElementById("overlayBottom"),W=document.getElementById("iconFullscreen"),D=!1,G=document.querySelector("h1"),V=document.querySelector("h2");function j(){e.forEach(function(e){e.parentNode.classList.remove("isActive")}),u.forEach(function(e){e.parentNode.classList.remove("isActive")}),J()}function J(){Y.innerHTML="",Y.classList.add("differenceMode"),TweenMax.to(Y,.2,{width:10,height:10,ease:Power1.easeOut})}function U(e){Y.classList.remove("differenceMode"),TweenMax.to(Y,.2,{width:100,height:100,ease:Power1.easeOut}),""!=e?Y.innerHTML=e:J()}function K(){F.addEventListener("mouseover",function(e){e.target.classList.contains("blueGradient")?(e.target.classList="",e.target.classList.add("st44")):(e.target.classList="",e.target.classList.add("st45"),e.target.classList.add("blueGradient"))})}l.src="assets/video/ours-1.mp4",l.autoPlay=!1,l.loop=!1,l.muted=!1,l.setAttribute("width",r.offsetWidth),l.setAttribute("height",r.offsetHeight),n={video:l,ready:!1},s.width=l.width,s.height=l.height,J(),H.addEventListener("click",function(){if(!0===n.ready){function e(e,t,n){switch(function(e,t){(new TimelineLite).set(F,{x:-1500,y:e}).to(F,2,{x:-500,transformOrigin:"50% 50%",ease:Power4.easeOut}).to(F,t,{x:900,transformOrigin:"50% 50%",ease:Linear.easeNone},"-=1").to(F,1,{x:1400,transformOrigin:"50% 50%",ease:Power4.easeIn}),TweenMax.to(X,2,{rotation:360,transformOrigin:"50% 50%",repeat:-1,ease:Linear.easeNone}),TweenMax.to(k,2,{rotation:360,transformOrigin:"50% 50%",repeat:-1,ease:Linear.easeNone});var n=20*Math.random()+10;new TimelineMax({repeat:-1}).to(C,.2,{y:"+="+n+"px",ease:Linear.easeNone}).to(C,.2,{y:"-="+n+"10px",ease:Linear.easeNone})}(t,n),K(),U(a),e){case 1:K(),o=t,r.addEventListener("click",function(){var e=new TimelineLite;e.to(F,.1,{y:-300,ease:Power1.easeOut}).to(F,.2,{y:o,ease:Back.easeIn,overwrite:"none"})})}var o}console.log(l.currentTime),a="MOVE",r.addEventListener("mouseover",function(e){var t=e.pageX,n=e.pageY,o=0,a=0;o=s.width/2-t,a=s.height/2-n,TweenMax.to(y,2,{css:{transform:"translateX("+o/17+"px) translateY("+a/17+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(p,2,{css:{transform:"translateX("+o/30+"px) translateY("+a/30+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(M,2,{css:{transform:"translateX("+o/6+"px) translateY("+a/6+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(T,2,{css:{transform:"translateX("+o/6+"px) translateY("+a/6+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(L,2,{css:{transform:"translateX("+o/6+"px) translateY("+a/6+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(I,2,{css:{transform:"translateX("+o/10+"px) translateY("+a/10+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(A,2,{css:{transform:"translateX("+o/10+"px) translateY("+a/10+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(P,2,{css:{transform:"translateX("+o/15+"px) translateY("+a/15+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(h,2,{css:{transform:"translateX("+o/30+"px) translateY("+a/30+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(E,2,{css:{transform:"translateX("+o/30+"px) translateY("+a/30+"px)"},ease:Power2.easeOut,overwrite:"none"}),TweenMax.to(x,2,{css:{transform:"translateX("+o/60+"px) translateY("+a/60+"px)"},ease:Power2.easeOut,overwrite:"none"})}),TweenMax.to(f,9,{css:{transform:"scale(1.06)"},ease:Linear.easeOut}),U(a),n.video.paused&&!c&&n.video.play(),t=setInterval(function(){o.drawImage(n.video,0,0,n.video.width,n.video.height)},20),d.classList.add("isActive"),g.classList.add("isActive"),setTimeout(function(){var n;console.log("visage"),g.classList.remove("isActive"),w.classList.add("isActive"),n=!(a="CLEAR"),r.addEventListener("mouseover",function(e){q+=6;var t=e.target.id;if(e.target.classList.contains("Scene1Plan2Nuages")&&!n)switch(t){case"Scene1Plan2NuagesAvant3":TweenMax.to(e.target,1,{css:{transform:"translate("+q+"px, "+q+"px)"},ease:Power2.easeOut,overwrite:"none"});break;case"Scene1Plan2NuagesAvant2":TweenMax.to(e.target,1,{css:{transform:"translate(-"+q+"px, -"+q+"px)"},ease:Power2.easeOut,overwrite:"none"});break;case"Scene1Plan2NuagesAvant1":TweenMax.to(e.target,1,{css:{transform:"translate(-"+q+"px, "+q+"px)"},ease:Power2.easeOut,overwrite:"none"});break;case"Scene1Plan2NuagesArriere2":TweenMax.to(e.target,1,{css:{transform:"translate("+q+"px, -"+q+"px)"},ease:Power2.easeOut,overwrite:"none"});break;case"Scene1Plan2NuagesArriere1":TweenMax.to(e.target,1,{css:{transform:"translateX(-"+q+"px)"},ease:Power2.easeOut,overwrite:"none"})}U(a)}),setTimeout(function(){n=!0,TweenMax.to(N,1,{x:s.width+200,y:s.height+200,ease:Power4.easeIn,overwrite:"all"}),TweenMax.to(O,1,{x:-400,y:-400,ease:Power4.easeIn,overwrite:"all"}),TweenMax.to(b,1,{x:-800,y:s.height+100,ease:Power4.easeIn,overwrite:"all"}),TweenMax.to(B,1,{x:s.width,y:-100,ease:Power4.easeIn,overwrite:"all"}),TweenMax.to(S,1,{x:-700,ease:Power4.easeIn,overwrite:"all"})},3500),setTimeout(function(){console.log("van ville"),d.classList.remove("isActive"),w.classList.remove("isActive"),m.classList.add("isActive"),v.classList.add("isActive"),a="HOVER",e(0,130,12.7),setTimeout(function(){console.log("chambre famille"),j(),v.classList.remove("isActive"),a="",setTimeout(function(){console.log("van neige"),m.classList.add("isActive"),v.classList.add("isActive"),a="CLIC",e(1,0,5.5),setTimeout(function(){console.log("jungle"),j(),v.classList.remove("isActive"),a="",setTimeout(function(){console.log("van montagnes"),j(),a="",setTimeout(function(){console.log("pilule"),j(),a="",setTimeout(function(){console.log("psyché"),j(),a="",setTimeout(function(){console.log("plage"),j(),a="",setTimeout(function(){console.log("van désert"),j(),a="",setTimeout(function(){console.log("concert loin"),j(),a="",setTimeout(function(){console.log("DJ"),j(),a="",setTimeout(function(){console.log("Dernières falaise"),j(),a=""},13599)},15520)},15280)},15634)},15596)},1770)},13480)},15440)},7920)},7730)},15389)},5597)},9844),TweenMax.to(r,3,{opacity:1,ease:Linear.easeNone}),TweenMax.to(H,1,{opacity:0,onComplete:function(){H.style.display="none",H.style.visibility="hidden"}}),TweenMax.to(G,1,{opacity:0,onComplete:function(){G.style.display="none",G.style.visibility="hidden"}}),TweenMax.to(V,1,{opacity:0,onComplete:function(){V.style.display="none",V.style.visibility="hidden"}}),i.addEventListener("mouseleave",function(e){J()}),i.addEventListener("mouseenter",function(e){U(a)}),TweenMax.to(z,.7,{height:"50px",lineHeight:"57px",ease:Power4.easeIn}),TweenMax.to(R,.7,{height:0,ease:Power4.easeIn,onComplete:function(){document.querySelector("#overlayTop p").style.display="none"}}),TweenMax.from(document.querySelector("#overlayTop p"),.5,{opacity:0,ease:Power4.easeIn})}}),n.video.oncanplaythrough=function(){console.log("video prete"),n.ready=!0},n.video.onplaying=function(){!(c=!0)},n.video.onpause=function(){!(c=!1),clearInterval(t)},l.onerror=function(){document.body.removeChild(s),document.body.innerHTML+="<h2>There is a problem loading the video</h2><br>",document.body.innerHTML+="Users of IE9+ , the browser does not support WebM videos used by this demo",document.body.innerHTML+="<br><a href='https://tools.google.com/dlpage/webmmf/'> Download IE9+ WebM support</a> from tools.google.com<br> this includes Edge and Windows 10"},window.onresize=function(){l.setAttribute("width",r.offsetWidth),l.setAttribute("height",r.offsetHeight),s.width=l.width,s.height=l.height},window.onmousemove=function(e){Y.style.top=e.pageY+"px",Y.style.left=e.pageX+"px"},W.addEventListener("click",function(){D?(D=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()):(D=!0,document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen())})};